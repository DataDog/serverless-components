# cbindgen configuration for generating C headers

# Language to generate bindings for
language = "C"

# Header to add to the generated file
header = """
/*
 * Datadog Agent Native Library - C Bindings
 *
 * This file is auto-generated by cbindgen. Do not modify manually.
 *
 * Copyright 2024-Present Datadog, Inc. https://www.datadoghq.com/
 * SPDX-License-Identifier: Apache-2.0
 */
"""

# Include guard style
include_guard = "DATADOG_AGENT_NATIVE_H"
pragma_once = true

# C++ compatibility
cpp_compat = true

# Include version in the header
include_version = true

# Documentation style
documentation_style = "c"
documentation_length = "full"

# Namespace for C++ compatibility
namespace = "datadog"

# Style configuration
[export]
# Export all items from the ffi module
include = ["DatadogError", "DatadogConfig", "DatadogAgent"]
prefix = "Datadog"

[export.rename]
# Rename rules for better C naming conventions

[parse]
# Parse configuration
parse_deps = false
include = ["datadog-agent-native"]
expand = ["datadog-agent-native"]

[fn]
# Function generation rules
prefix = "datadog_"
rename_args = "None"
args = "auto"

[struct]
# Struct generation rules
derive_eq = false
derive_neq = false

[enum]
# Enum generation rules
rename_variants = "None"
prefix_with_name = false
